(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{302:function(s,n,a){"use strict";a.r(n);var e=a(10),t=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"react-单个li-高亮"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-单个li-高亮"}},[s._v("#")]),s._v(" react 单个li 高亮")]),s._v(" "),n("blockquote",[n("p",[s._v("高亮")])]),s._v(" "),n("div",{staticClass:"language-react line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('import React, { useEffect, useState } from "react";\nimport http from "../../../utils/http";\nimport { useNavigate } from "react-router";\nimport { Button, Modal, Space,Input  } from "antd";\nimport axios from "axios";\nimport "./Home.css";\nimport MyUpload from "../../../components/upload/MyUpload";\nimport DiaLog from "../../../components/dialog/DiaLog";\nimport { getRandom, getTimeStamp, getSingature } from "../../helper";\nimport cover1 from "../../image/1.jpg";\nimport cover2 from "../../image/2.jpg";\nimport cover3 from "../../image/3.jpg";\nimport cover4 from "../../image/4.jpg";\nimport cover5 from "../../image/5.jpg";\nimport cover6 from "../../image/3d.jpg";\nimport iconCover from "../../image/icon-cover.png";\nimport iconRename from "../../image/icon-rename.png";\nimport iconImport from "../../image/icon-import.png";\nimport iconDel from "../../image/icon-del.png";\n\n\nvar images = [ cover1, cover2, cover3, cover4, cover2,cover5,cover1,cover2, cover3, cover5,  cover1,  cover3,  cover4,  cover2,\n  cover4,  cover5,  cover6, cover6,]\n \n// let index = Math.floor(Math.random() * images.length);\nconst timestamp = getTimeStamp();\n\nconsole.log(timestamp,\'timestamp\')\nconst nonce = getRandom();\n\nexport default function Home() {\n  //上传弹窗显示隐藏\n  const [sonMsgStatus, setSonMsgStatus] = useState(false);\n \n\n  //列表数据\n  const [allData, setAlldata] = useState([]);\n\n  // 子组件上传完毕，父组件根据状态更新数据；\n  const [uploadStatus, setUploadStatus] = useState(0);\n\n  const getSonMsg = (sonMsg) => {\n    setSonMsgStatus(sonMsg);\n  };\n\n  let accountcode = sessionStorage.getItem("AccountCode");\n  let SignToken = sessionStorage.getItem("SignToken");\n\n  const uploadMask = (values) => {\n    setSonMsgStatus(true);\n  };\n\n  // 子组件上传成功，更新父组件\n  const finishUploadSon = () => {\n    setUploadStatus(Date.now());\n  };\n\n  // 进入单个项目  模态框\n   const [itemMask, setItemMask] = useState(false);\n  const [isShow, setIshow] = useState(0)   \n  const onEnter = (index) => {\n    setIshow(index);\n    // setItemMask(true)\n  };\n  const OnOut = (e) => {\n    setItemMask(false);\n  };\n\n  const [visible, setVisible] = useState(false);\n  const showModal = (e) => {\n    setVisible(true);\n    console.log(e.target.getAttribute("data-buildid"), "ccc1");\n    \n    let buildid =  e.target.getAttribute("data-buildid")\n    // let str = `buildId${buildId}`;\n    // let signature = getSingature(timestamp, nonce, accountcode, SignToken, str);\n\n    // console.log(signature, "aaa");\n    // let params = { buildId };\n    // let headers = { accountcode, timestamp, nonce, signature };\n    // console.log(params, headers, "bbb");\n    // const res = http.post(`/api/project/ChangeBuildName?buildId=${buildId}`, null, headers);\n    // res.then(() => {});\n    return buildid\n  };\n  const okHideModal = () => {\n    setVisible(false);\n    // console.log(\'好看看看111\',buildid)\n  };\n\n  const cancelHideModal = () => {\n    setVisible(false);\n  };\n  const del = (e) => {\n    // console.log(e.target.getAttribute("data-buildid"), "ccc");\n    const buildId = e.target.getAttribute("data-buildid");\n\n    let str = `buildId${buildId}`;\n    let signature = getSingature(timestamp, nonce, accountcode, SignToken, \'\');\n\n    console.log(signature, "aaa");\n    let params = { buildId };\n    let headers = { accountcode, timestamp, nonce, signature };\n    console.log(params, headers, "bbb");\n    const res = http.post(`/api/project/DeleteBuild?buildId=${buildId}`, null, headers);\n    res.then(() => {});\n  };\n\n  let navigate = useNavigate();\n  const seeProJ = (e) => {\n      sessionStorage.setItem(\'projectCode\',e.target.getAttribute("data-projectcode") );  //存储当前点击的项目编号\n      navigate(\'/project\')\n  };\n  const seeMoNy = (e) => {\n    console.log(\'seeMoNy\');\n    // navigate(\'/project\')\n};\n  \n  useEffect(() => {\n    axios({\n      method: "get",\n      url: "/api/account/GetToken",\n      params: {\n        accountCode: accountcode,\n      },\n      headers: { timestamp, nonce },\n    })\n      .then((res) => {\n        sessionStorage.setItem("SignToken", res.data.Data.SignToken);\n        const SignToken = res.data.Data.SignToken;\n        let signature = getSingature(timestamp, nonce, accountcode, SignToken, "");\n        axios({\n          method: "get",\n          url: "/api/project/GetBuildInfoByAccount",\n          headers: {  accountcode,  timestamp, nonce,  signature},\n        }).then((res) => {\n          setAlldata(res.data.Data);\n        });\n      })\n      .catch(function (error) {});\n  }, [uploadStatus]);\n\n  return (\n    <div className="myhome">\n      {sonMsgStatus === true ? (\n        <>\n          <DiaLog></DiaLog>\n          <MyUpload className="uploadpage" getSonMsg={getSonMsg} finishUploadSon={finishUploadSon}></MyUpload>\n        </>\n      ) : null}\n\n      <div> </div>\n      {/* <Upload\n        action="https://www.mocky.io/v2/5cc8019d300000980a055e76"\n        listType="picture-card"\n        fileList={fileList}\n        onChange={onChange}\n        onPreview={onPreview}\n      >\n        {fileList.length < 555555555555 && \'+ 上传模型\'}\n      </Upload> */}\n\n      {/* {JSON.stringify(allData)} */}\n      <div className="item-add">\n        <div className="cover " onClick={uploadMask}>\n          上传模型\n        </div>\n      </div>\n\n      {Object.values(allData).map((item, index) => {\n        return (\n          <>\n          {/*  <li className=\'item\' key={item.BuildId} onMouseEnter={(e) =>onEnter(index)}  onMouseLeave={OnOut}> */}\n          <li className=\'item\' key={item.BuildId} onMouseEnter={(e) =>onEnter(index)}  onMouseLeave={OnOut}>\n              <div className="cover">\n                <img src={images[index]} alt="" style={{ height: "100%", width: "100%" }} />\n              </div>\n                <div className={isShow === index ? \' item-mask\' : \'hide\'}>\n                  <div className="see seeProJ" onClick={seeProJ} data-ProjectCode={item.ProjectCode}>查看项目</div>\n                  <div className="see seeMoNy" onClick={seeMoNy}>查看资产</div>\n                  <div className="footer">\n                    <img src={iconCover} alt="更换封面" />\n                    <img src={iconRename} onClick={showModal} data-buildid={item.BuildId} alt="重命名" />\n                    <img src={iconImport} alt="重传模型" />\n                    <img src={iconDel} onClick={del} data-buildid={item.BuildId} alt="删除" />\n                  </div>\n                </div>\n              {/* <p className="mytxt"><span>{item.ProjectName}</span><span>{new Date(item.CreateTime)}</span></p> */}\n              <p className="mytxt">\n                <span>{item.ProjectName}-{item.BuildName}</span>\n                <span>{new Date(item.CreateTime).toLocaleString()}</span>\n              </p>\n            </li>\n            <Modal title="更改楼栋名称" visible={visible} onOk={okHideModal} onCancel={cancelHideModal} okText="确认" cancelText="取消">\n              <p><Input placeholder="请输入要设置的楼栋名称" />;</p>\n            </Modal>\n          </>\n        );\n      })}\n    </div>\n  );\n}\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br"),n("span",{staticClass:"line-number"},[s._v("143")]),n("br"),n("span",{staticClass:"line-number"},[s._v("144")]),n("br"),n("span",{staticClass:"line-number"},[s._v("145")]),n("br"),n("span",{staticClass:"line-number"},[s._v("146")]),n("br"),n("span",{staticClass:"line-number"},[s._v("147")]),n("br"),n("span",{staticClass:"line-number"},[s._v("148")]),n("br"),n("span",{staticClass:"line-number"},[s._v("149")]),n("br"),n("span",{staticClass:"line-number"},[s._v("150")]),n("br"),n("span",{staticClass:"line-number"},[s._v("151")]),n("br"),n("span",{staticClass:"line-number"},[s._v("152")]),n("br"),n("span",{staticClass:"line-number"},[s._v("153")]),n("br"),n("span",{staticClass:"line-number"},[s._v("154")]),n("br"),n("span",{staticClass:"line-number"},[s._v("155")]),n("br"),n("span",{staticClass:"line-number"},[s._v("156")]),n("br"),n("span",{staticClass:"line-number"},[s._v("157")]),n("br"),n("span",{staticClass:"line-number"},[s._v("158")]),n("br"),n("span",{staticClass:"line-number"},[s._v("159")]),n("br"),n("span",{staticClass:"line-number"},[s._v("160")]),n("br"),n("span",{staticClass:"line-number"},[s._v("161")]),n("br"),n("span",{staticClass:"line-number"},[s._v("162")]),n("br"),n("span",{staticClass:"line-number"},[s._v("163")]),n("br"),n("span",{staticClass:"line-number"},[s._v("164")]),n("br"),n("span",{staticClass:"line-number"},[s._v("165")]),n("br"),n("span",{staticClass:"line-number"},[s._v("166")]),n("br"),n("span",{staticClass:"line-number"},[s._v("167")]),n("br"),n("span",{staticClass:"line-number"},[s._v("168")]),n("br"),n("span",{staticClass:"line-number"},[s._v("169")]),n("br"),n("span",{staticClass:"line-number"},[s._v("170")]),n("br"),n("span",{staticClass:"line-number"},[s._v("171")]),n("br"),n("span",{staticClass:"line-number"},[s._v("172")]),n("br"),n("span",{staticClass:"line-number"},[s._v("173")]),n("br"),n("span",{staticClass:"line-number"},[s._v("174")]),n("br"),n("span",{staticClass:"line-number"},[s._v("175")]),n("br"),n("span",{staticClass:"line-number"},[s._v("176")]),n("br"),n("span",{staticClass:"line-number"},[s._v("177")]),n("br"),n("span",{staticClass:"line-number"},[s._v("178")]),n("br"),n("span",{staticClass:"line-number"},[s._v("179")]),n("br"),n("span",{staticClass:"line-number"},[s._v("180")]),n("br"),n("span",{staticClass:"line-number"},[s._v("181")]),n("br"),n("span",{staticClass:"line-number"},[s._v("182")]),n("br"),n("span",{staticClass:"line-number"},[s._v("183")]),n("br"),n("span",{staticClass:"line-number"},[s._v("184")]),n("br"),n("span",{staticClass:"line-number"},[s._v("185")]),n("br"),n("span",{staticClass:"line-number"},[s._v("186")]),n("br"),n("span",{staticClass:"line-number"},[s._v("187")]),n("br"),n("span",{staticClass:"line-number"},[s._v("188")]),n("br"),n("span",{staticClass:"line-number"},[s._v("189")]),n("br"),n("span",{staticClass:"line-number"},[s._v("190")]),n("br"),n("span",{staticClass:"line-number"},[s._v("191")]),n("br"),n("span",{staticClass:"line-number"},[s._v("192")]),n("br"),n("span",{staticClass:"line-number"},[s._v("193")]),n("br"),n("span",{staticClass:"line-number"},[s._v("194")]),n("br"),n("span",{staticClass:"line-number"},[s._v("195")]),n("br"),n("span",{staticClass:"line-number"},[s._v("196")]),n("br"),n("span",{staticClass:"line-number"},[s._v("197")]),n("br"),n("span",{staticClass:"line-number"},[s._v("198")]),n("br"),n("span",{staticClass:"line-number"},[s._v("199")]),n("br"),n("span",{staticClass:"line-number"},[s._v("200")]),n("br"),n("span",{staticClass:"line-number"},[s._v("201")]),n("br"),n("span",{staticClass:"line-number"},[s._v("202")]),n("br"),n("span",{staticClass:"line-number"},[s._v("203")]),n("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);